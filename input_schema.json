{
  "title": "YouTube Scraper Input Schema",
  "description": "Scrape YouTube videos, channels, playlists, or search results with rich search filters, per-type limits, subtitles, and a Channel Info Only mode (no external APIs).",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "channelInfoOnly": {
      "title": "Channel info only",
      "type": "boolean",
      "description": "Only scrape channel About information for the provided URLs (channels or videos). Ignores search/video extraction.",
      "default": false
    },

    "startUrls": {
      "title": "Start URLs (video, channel, playlist, or search results)",
      "type": "array",
      "description": "Paste YouTube URLs: channel (/@handle or /channel/ID), video (/watch?v=...), playlist, or even search results.",
      "editor": "requestListSources"
    },

    "searchTerms": {
      "title": "Search terms",
      "type": "array",
      "description": "Search terms for YouTube search results. If Channel info only is enabled and you provide a single item like '@theleaderstalk', it will be treated as a channel.",
      "editor": "stringList"
    },

    "maxVideosPerTerm": {
      "title": "Maximum videos per search term (optional)",
      "type": "integer",
      "description": "Maximum number of regular video results to collect per search term. Set to 0 to skip video collection.",
      "minimum": 0,
      "default": 10
    },
    "maxShortsPerTerm": {
      "title": "Maximum shorts per search term (optional)",
      "type": "integer",
      "description": "Maximum number of Shorts results to collect per search term. Set to 0 to skip shorts (default: 0 = no shorts).",
      "minimum": 0,
      "default": 0
    },
    "maxStreamsPerTerm": {
      "title": "Maximum streams per search term (optional)",
      "type": "integer",
      "description": "Maximum number of live stream results to collect per search term. Set to 0 to skip streams.",
      "minimum": 0,
      "default": 0
    },

    "directUrls": {
      "title": "Direct URLs",
      "type": "array",
      "description": "Direct YouTube URLs to include (video, channel, playlist).",
      "editor": "stringList"
    },

    "downloadSubtitles": {
      "title": "Download YouTube transcript",
      "type": "boolean",
      "description": "Open the transcript panel and scrape subtitles (no external APIs).",
      "default": false
    },
    "saveSubsToKVS": {
      "title": "Save subtitles to key-value store",
      "type": "boolean",
      "description": "When enabled, saves the transcript into the default Apify Key-Value Store.",
      "default": false
    },
    "subtitlesLanguage": {
      "title": "Subtitle language",
      "type": "string",
      "description": "Preferred subtitle language. Leave blank for auto/any.",
      "editor": "select",
      "enum": ["", "en", "es", "de", "fr", "it", "pt", "ru", "hi", "ar", "ja", "ko", "zh"],
      "enumTitles": ["Auto / Any", "English (en)", "Spanish (es)", "German (de)", "French (fr)", "Italian (it)", "Portuguese (pt)", "Russian (ru)", "Hindi (hi)", "Arabic (ar)", "Japanese (ja)", "Korean (ko)", "Chinese (zh)"],
      "default": ""
    },
    "preferAutoGeneratedSubtitles": {
      "title": "Prefer automatically generated subtitles",
      "type": "boolean",
      "description": "Best-effort preference in the YouTube UI when multiple transcripts exist.",
      "default": false
    },
    "subtitlesFormat": {
      "title": "Subtitle format",
      "type": "string",
      "description": "Format to save transcripts when saving to KVS.",
      "editor": "select",
      "enum": ["srt", "json", "txt"],
      "default": "srt"
    },

    "searchSortOrder": {
      "title": "Sorting order",
      "type": "string",
      "description": "Sorting applied to search results.",
      "editor": "select",
      "enum": ["relevance", "upload_date", "view_count", "rating"],
      "enumTitles": ["Relevance", "Upload date", "View count", "Rating"],
      "default": "relevance"
    },
    "searchDateFilter": {
      "title": "Date filter",
      "type": "string",
      "description": "Limit results by upload date using YouTube's filter panel.",
      "editor": "select",
      "enum": ["", "last_hour", "today", "this_week", "this_month", "this_year"],
      "enumTitles": ["Any time", "Last hour", "Today", "This week", "This month", "This year"],
      "default": ""
    },
    "searchVideoType": {
      "title": "Video type",
      "type": "string",
      "description": "Filter results by type.",
      "editor": "select",
      "enum": ["any", "video", "channel", "playlist", "movie", "short", "live"],
      "enumTitles": ["Any", "Video", "Channel", "Playlist", "Movie", "Shorts", "Live"],
      "default": "any"
    },
    "searchDuration": {
      "title": "Length of video",
      "type": "string",
      "description": "Filter videos by duration.",
      "editor": "select",
      "enum": ["any", "short", "medium", "long"],
      "enumTitles": ["Any", "Under 4 minutes", "4–20 minutes", "Over 20 minutes"],
      "default": "any"
    },

    "hd": { "title": "HD", "type": "boolean", "description": "Show only HD results (where available).", "default": false },
    "subtitles_cc": { "title": "Subtitles/CC", "type": "boolean", "description": "Require videos with subtitles/closed captions.", "default": false },
    "creative_commons": { "title": "Creative Commons", "type": "boolean", "description": "Show only videos with Creative Commons license.", "default": false },
    "three_d": { "title": "3D", "type": "boolean", "description": "Show only 3D videos.", "default": false },
    "purchased": { "title": "Purchased", "type": "boolean", "description": "Show only purchased content.", "default": false },
    "four_k": { "title": "4K", "type": "boolean", "description": "Show only 4K (Ultra HD) videos.", "default": false },
    "three_sixty": { "title": "360°", "type": "boolean", "description": "Show only 360-degree videos.", "default": false },
    "location": { "title": "Location", "type": "boolean", "description": "Show only videos with a specified location.", "default": false },

    "fetchFullVideoDetails": {
      "title": "Open each discovered result and extract full video details",
      "type": "boolean",
      "description": "When enabled, each discovered result is opened for full details (likes, comments count, description text, subtitles, etc.).",
      "default": false
    },
    "maxResults": {
      "title": "Max results (overall cap)",
      "type": "integer",
      "description": "Maximum number of results per URL or per search term overall (upper cap).",
      "minimum": 1,
      "default": 50
    },
    "maxComments": {
      "title": "Max comments per video",
      "type": "integer",
      "description": "Maximum comments to extract per video. 0 disables comment extraction.",
      "minimum": 0,
      "default": 20
    },
    "dateFilter": {
      "title": "Post-filter by exact date or relative range",
      "type": "string",
      "description": "Limit videos by published date after extraction. Use YYYY-MM-DD or 'last N days' (e.g., 'last 7 days').",
      "editor": "textfield"
    },
    "videoRegex": {
      "title": "Video URL Regex Filter",
      "type": "string",
      "description": "Only include videos whose URLs match this regular expression.",
      "editor": "textfield"
    },
    "proxyConfiguration": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Configure proxy usage for reliable scraping.",
      "editor": "proxy",
      "default": { "useApifyProxy": true }
    },
    "verboseLog": {
      "title": "Verbose logging?",
      "type": "boolean",
      "description": "Enable to see detailed logs.",
      "default": false
    }
  },
  "required": ["proxyConfiguration"]
}